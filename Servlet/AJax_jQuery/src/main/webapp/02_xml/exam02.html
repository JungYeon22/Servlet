<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
	<link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/reset.css">
</head>
<body>

<h1 class="title">$.ajax() 함수를 사용한 xml 읽기</h1>
    <div class="exec">
        <input type="button" value="xml 데이터 가져오기" id="mybtn">
    </div>
    <div class="console" id="result"></div>
    
    <script src="https://code.jQuery.com/jquery-3.7.1.min.js"></script>
    <script>
        $(function(){
        	 $('#mybtn').click(function(){
        		 $.ajax({
        			 type: 'get'
        			 , url: '../xml/xml02.xml'
        			 , dataType: 'text'
        			 , success: function(data){
        				var subject = $(data).find('subject');
        				 console.log($(subject).length)	// 3
        				 console.log($(subject).children().length)// 9, 모든 자식들
        				 
        				 /* for(var i=0;i < i<$(subject).length;i++){} */
        				 // 위와 같은 기능 for문! each문에있는 $()안에는 this를 많이 사용 각 인덱스를 구할 필요 x 
        				 subject.each(function(){
        					 var title =  $(this).find('title').text();
        					 var time = $(this).find('time').text();
        					 var teacher = $(this).find('teacher').text();
        					 
        					 /* var div = $('<div/>');	// <div></div>
        					 var p1 = $('<p/>').html(title)	//<p> Javascript+jQuery+Ajax</p>
        					 var p2 = $('<p/>').html(time);
        					 var p3 = $('<p/>').html(teacher);
        					 
        					 div.append(p1).append(p2).append(p3);
        					 $('#result').append(div).append("<br>"); */
        					 
        					 var div = `<div>`;
        					 div += `<p>` + title + `</p>`;
        					 div += `<p>` + time + `</p>`;
        					 div += `<p>` + teacher + `</p>`;
        					 $('#result').append(div).append("<br>");
        				 });	
        			 }
        		 	 , error: function(e){
        		 		 console.log(e)
        		 	 }
        		 })//$.ajax
        	 })
        });
    </script>

</body>
</html>